(this["webpackJsonpgoogle-map-api"]=this["webpackJsonpgoogle-map-api"]||[]).push([[0],[,,,,,,,,,function(n,e,t){n.exports=t.p+"static/media/iconfinder-mylocation.e1800d3e.svg"},function(n,e,t){n.exports=t.p+"static/media/iconfinder-restaurant.cf7aa7d1.svg"},function(n,e,t){n.exports=t.p+"static/media/material-search.92521a12.svg"},function(n,e,t){n.exports=t.p+"static/media/material-restaurant.f5353376.svg"},function(n,e,t){n.exports=t.p+"static/media/iconfinder-searchmark.94b1ead5.svg"},function(n,e,t){n.exports=t.p+"static/media/iconfinder-star.403fcad3.svg"},,,,function(n,e,t){n.exports=t.p+"static/media/material-filter.7647e852.svg"},function(n,e,t){n.exports=t(26)},,,,,,,function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o),a=t(8),i=t.n(a),c=t(3),l=t(1),f=t(9),u=t.n(f),s=t(10),d=t.n(s),m=t(2),p=t(11),b=t.n(p),g=t(12),h=t.n(g),v=t(13),w=t.n(v),j=t(14),y=t.n(j);function O(){var n=Object(l.a)(["\n  flex: 6;\n  margin-right: 1em;\n  > h2 {\n    font-size: 1rem;\n    font-weight: 700;\n    margin-bottom: 0.8em;\n    line-height: 1.5;\n  }\n  > p {\n    font-size: 0.8rem;\n  }\n"]);return O=function(){return n},n}function x(){var n=Object(l.a)(["\n  cursor: pointer;\n  color: #ffffffaa;\n  border-radius: 10px;\n  padding: 1em;\n  margin-bottom: 1.5em;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: 0.3s;\n  > h2 {\n    flex: 2;\n    text-align: center;\n    font-size: 2rem;\n    font-weight: 700;\n    color: #ffffffaa;\n  }\n  > img {\n    flex: 1;\n    width: 13%;\n  }\n\n  &:hover {\n    background-color: #ffffff25;\n    transform: translate(-5%, -5%);\n  }\n"]);return x=function(){return n},n}var E=m.b.div(x()),k=m.b.div(O()),S=function(n){var e=n.name,t=n.rating,o=n.vicinity;return r.a.createElement(E,null,r.a.createElement(k,null,r.a.createElement("h2",null,e),r.a.createElement("p",null,o)),r.a.createElement("h2",null,t),r.a.createElement("img",{src:y.a,alt:"error"}))},z=t(18),q=t.n(z);function M(){var n=Object(l.a)(["\n  margin-bottom: 0.5em;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n  > button {\n    cursor: pointer;\n    color: #ffffff66;\n    background-color: transparent;\n    border: 3px solid #ffffff66;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: 700;\n    padding: 0.3em 1em;\n    position: relative;\n\n    > img {\n      margin-left: 0.5em;\n    }\n    > ul {\n      position: absolute;\n      width: 100%;\n      opacity: ",";\n      visibility: ",";\n      top: 110%;\n      right: 0;\n      background-color: #2abf70;\n      border-radius: 10px;\n      color: #fff;\n      /* padding: 0.5em 1em 0 1em; */\n      z-index: 1;\n      font-weight: 700;\n      font-size: 1rem;\n      transition: 0.5s;\n      > li {\n        border-radius: 10px;\n        padding: 0.5em 0;\n\n        &:hover {\n          background-color: #ffffff66;\n        }\n      }\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n"]);return M=function(){return n},n}function C(){var n=Object(l.a)(["\n  position: relative;\n  border-bottom: 3px solid #ffffff66;\n  > input {\n    width: 90%;\n    font-size: 1.3rem;\n    color: #eb663e;\n    background-color: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n      & + .place-label {\n        color: #eb663e;\n      }\n    }\n    &:focus,\n    &:valid {\n      & + .place-label {\n        top: -100%;\n        left: 0;\n      }\n    }\n  }\n  > label {\n    cursor: text;\n    color: #ffffff66;\n    font-size: 1rem;\n    font-weight: 700;\n    position: absolute;\n    top: 20%;\n    left: 1%;\n    transition: 0.5s;\n  }\n  > button {\n    cursor: pointer;\n    position: absolute;\n    top: 20%;\n    right: 0;\n    background-color: transparent;\n    border: none;\n    width: 10%;\n    height: 60%;\n    &:active {\n      outline: none;\n    }\n    > img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  &:focus-within {\n    border-bottom: 3px solid #eb663e;\n  }\n"]);return C=function(){return n},n}function N(){var n=Object(l.a)(["\n  margin-bottom: 1em;\n"]);return N=function(){return n},n}function F(){var n=Object(l.a)(["\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 1.5em;\n  letter-spacing: 0.5em;\n"]);return F=function(){return n},n}function J(){var n=Object(l.a)(["\n  flex: 0 1 50%;\n  height: 100%;\n  overflow-y: scroll;\n  background: linear-gradient(330deg, #320d8c, #230669);\n  color: #fff;\n  padding: 3em;\n  position: relative;\n  overflow-y: scroll;\n\n  &::before {\n    content: '';\n    position: absolute;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: contain;\n    top: 0;\n    right: 0;\n    width: 50%;\n    height: 50%;\n    filter: opacity(0.1);\n  }\n"]);return J=function(){return n},n}var K=m.b.div(J(),h.a),L=m.b.h1(F()),P=m.b.form(N()),R=m.b.div(C()),T=m.b.div(M(),(function(n){return n.filterState?1:0}),(function(n){return n.filterState?"visible":"hidden"})),D={url:w.a,scaledSize:new window.google.maps.Size(70,70)},G=r.a.memo((function(n){var e=n.props,t=e.map,a=e.nearSite,i=e.setMySite,l=e.setNearSite,f=Object(o.useRef)(),u=Object(o.useState)(),s=Object(c.a)(u,2),d=s[0],m=s[1],p=Object(o.useState)(),g=Object(c.a)(p,2),h=g[0],v=g[1],w=Object(o.useState)(!1),j=Object(c.a)(w,2),y=j[0],O=j[1];Object(o.useEffect)((function(){void 0!==d&&(void 0!==h&&v((function(n){return n.setMap(null)})),v(new window.google.maps.Marker({position:d,map:t,icon:D})),i(d))}),[d]);return r.a.createElement(K,null,r.a.createElement(L,null,"\u9910\u5ef3\u641c\u5c0b"),r.a.createElement(P,null,r.a.createElement(R,null,r.a.createElement("input",{ref:f,id:"place",type:"text",required:!0}),r.a.createElement("label",{className:"place-label",htmlFor:"place"},"\u8acb\u8f38\u5165\u5730\u9ede"),r.a.createElement("button",{onClick:function(n){n.preventDefault();!function(n,e){var t=f.current.value;n.geocode({address:t},(function(n,t){if("OK"===t){var o=n[0].geometry.location,r=o.lat,a=o.lng;m({lat:r(),lng:a()}),e.setCenter(n[0].geometry.location),e.setZoom(16)}else alert("\u8f09\u5165\u5931\u6557\uff0c\u539f\u56e0\u70ba".concat(t))}))}(new window.google.maps.Geocoder,t)},type:"submit"},r.a.createElement("img",{src:b.a,alt:"error"})))),r.a.createElement(T,{filterState:y},r.a.createElement("button",{onClick:function(){O(!y)}},"\u689d\u4ef6\u7be9\u9078",r.a.createElement("img",{src:q.a,alt:"error"}),r.a.createElement("ul",{onClick:function(n){"\u8a55\u50f9\u6700\u9ad8"===n.target.textContent&&(a.sort((function(n,e){return n.rating>e.rating?-1:e.rating>n.rating?1:0})),l(a))}},r.a.createElement("li",null,"\u8a55\u50f9\u6700\u9ad8")))),void 0!==a&&a.map((function(n,e){return r.a.createElement(S,Object.assign({key:e},n))})))}));function I(){var n=Object(l.a)(["\n  flex: 0 1 50%;\n  overflow-y: hidden;\n"]);return I=function(){return n},n}function W(){var n=Object(l.a)(["\n  display: flex;\n  height: 100%;\n\n  @media screen and (max-width: 1200px) {\n    flex-direction: column;\n  }\n"]);return W=function(){return n},n}var Z=m.b.div(W()),A=m.b.div(I()),B={url:u.a,scaledSize:new window.google.maps.Size(70,70)},H={url:d.a,scaledSize:new window.google.maps.Size(50,50)},Q=function(){var n=Object(o.useRef)(),e=Object(o.useState)(),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(o.useState)({lat:25.033951,lng:121.564655}),f=Object(c.a)(l,2),u=f[0],s=f[1],d=Object(o.useState)(),m=Object(c.a)(d,2),p=m[0],b=m[1],g=Object(o.useState)(),h=Object(c.a)(g,2),v=h[0],w=h[1],j=Object(o.useState)(),y=Object(c.a)(j,2),O=y[0],x=y[1];return Object(o.useEffect)((function(){var e=new window.google.maps.Map(n.current,{center:{lat:25.033951,lng:121.564655},zoom:16});e.addListener("dragend",(function(){s({lat:e.getCenter().lat(),lng:e.getCenter().lng()})})),i(e)}),[]),Object(o.useEffect)((function(){if(void 0!==a){void 0!==v&&v.setMap(null),void 0!==O&&O.forEach((function(n){return n.setMap(null)}));var n=new window.google.maps.Marker({position:u,map:a,icon:B});w(n);var e={location:u,radius:"600",type:["restaurant"]};new window.google.maps.places.PlacesService(a).nearbySearch(e,(function(n,e){e===window.google.maps.places.PlacesServiceStatus.OK&&function(n){var e=[];n.forEach((function(n){var t=n.geometry,o=n.name,r=new window.google.maps.Marker({position:t.location,map:a,icon:H}),i=new window.google.maps.InfoWindow({content:"<h3>".concat(o,"</h3>")});r.addListener("click",(function(){i.open(a,r),window.setTimeout((function(){i.close()}),3e3)})),e.push(r)})),b(n),x(e)}(n)}))}}),[a,u]),r.a.createElement(Z,null,r.a.createElement(A,{ref:n}),void 0!==a&&r.a.createElement(G,{props:{map:a,nearSite:p,setMySite:s,setNearSite:b}}))},U=function(){return r.a.createElement(o.Fragment,null,r.a.createElement(Q,null))};function V(){var n=Object(l.a)(["\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\n\nbody {\n\tline-height: 1;\n}\n\nol, ul {\n\tlist-style: none;\n}\n\nblockquote, q {\n\tquotes: none;\n}\n\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\n\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n/* ============================================== */\n\nbody,html{\n  height:100%;\n  font-size: calc(0.75rem + 1vmin);\n  font-family: 'Noto Sans TC', sans-serif;\n\toverflow-y:hidden;\n}\n\n*,*::before,*::after{\n  box-sizing:border-box;\n}\n\n#root{\n  width:100%;\n  height:100%;\n}\n"]);return V=function(){return n},n}var X=Object(m.a)(V());i.a.render(r.a.createElement(o.Fragment,null,r.a.createElement(X,null),r.a.createElement(U,null)),document.querySelector("#root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.810e54e4.chunk.js.map
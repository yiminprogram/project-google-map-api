(this["webpackJsonpgoogle-map-api"]=this["webpackJsonpgoogle-map-api"]||[]).push([[0],[,,,,function(n,e,t){n.exports=t.p+"static/media/iconfinder-mylocation.e1800d3e.svg"},function(n,e,t){n.exports=t.p+"static/media/iconfinder-restaurant.cf7aa7d1.svg"},function(n,e,t){n.exports=t.p+"static/media/iconfinder-searchmark.94b1ead5.svg"},,function(n,e,t){n.exports=t.p+"static/media/iconfinder-star.403fcad3.svg"},,,,,function(n,e,t){n.exports=t.p+"static/media/material-search.92521a12.svg"},function(n,e,t){n.exports=t.p+"static/media/material-restaurant.f5353376.svg"},function(n,e,t){n.exports=t.p+"static/media/material-filter.7647e852.svg"},function(n,e,t){n.exports=t.p+"static/media/material-close.668c22de.svg"},,,,function(n,e,t){n.exports=t.p+"static/media/material-help.e86221ec.svg"},function(n,e,t){n.exports=t.p+"static/media/material-error.886f6000.svg"},function(n,e,t){n.exports=t.p+"static/media/material-arrowback.7e4304aa.svg"},function(n,e,t){n.exports=t(30)},,,,,,,function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(12),i=t.n(o),c=t(3),l=t(1),f=t(4),u=t.n(f),s=t(5),d=t.n(s),m=t(2),b=t(13),p=t.n(b),g=t(14),v=t.n(g),h=t(6),w=t.n(h),E=t(15),j=t.n(E),O=t(16),x=t.n(O);function k(){var n=Object(l.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 3%;\n  top: 3%;\n  width: 5%;\n"]);return k=function(){return n},n}function y(){var n=Object(l.a)(["\n  margin: 1em 0;\n  > li {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    margin-bottom: 1em;\n  }\n"]);return y=function(){return n},n}function S(){var n=Object(l.a)(["\n  position: relative;\n  color: #000;\n  font-size: 1rem;\n  width: 30vw;\n  border-radius: 10px;\n  padding: 2em;\n  line-height: 2;\n  background-color: #fff;\n"]);return S=function(){return n},n}function I(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: ",";\n  visibility: ",";\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: #00000066;\n  z-index: 1;\n"]);return I=function(){return n},n}var z=m.b.div(I(),(function(n){return n.isHelp?1:0}),(function(n){return n.isHelp?"visible":"hidden"})),C=m.b.div(S()),M=m.b.ul(y()),q=m.b.img(k()),R=a.a.memo((function(n){var e=n.isHelp,t=n.setIsHelp,o=Object(r.useRef)();return a.a.createElement(z,{isHelp:e,onClick:function(n){n.target===o.current?t(!e):console.log("fail")},ref:o},a.a.createElement(C,null,a.a.createElement(q,{src:x.a,onClick:function(){return t(!e)}}),a.a.createElement("h1",null,"[\u4f7f\u7528\u8aaa\u660e]"),a.a.createElement("p",null,"\u53ef\u5728 [\u8acb\u8f38\u5165\u5730\u5740\u4e2d\u67e5\u8a62\u60a8\u7684\u5730\u5740] \uff0c\u79fb\u52d5\u5730\u5716\u6703\u5373\u6642\u986f\u793a\u5730\u5716\u4e2d\u4e4b\u9910\u5ef3\u8cc7\u8a0a"),a.a.createElement("p",null,"\u6ce8\u610f\uff1a\u9910\u5ef3\u986f\u793a\u8cc7\u8a0a\u81f3\u591a20\u7b46\u9910\u5ef3\u8cc7\u8a0a"),a.a.createElement(M,null,a.a.createElement("li",null,a.a.createElement("img",{src:u.a,alt:"error"}),a.a.createElement("label",null,"\u7576\u524d\u5730\u5716\u4e2d\u5fc3\u4f4d\u7f6e")),a.a.createElement("li",null,a.a.createElement("img",{src:d.a,alt:"error"}),a.a.createElement("label",null,"\u9910\u5ef3\u4f4d\u7f6e\u5730\u9ede")),a.a.createElement("li",null,a.a.createElement("img",{src:w.a,alt:"error"}),a.a.createElement("label",null,"\u641c\u5c0b\u5730\u9ede\u4e4b\u4f4d\u7f6e")))))})),H=t(20),P=t.n(H),D=t(8),N=t.n(D),F=t(21),K=t.n(F),T=Object(r.createContext)(null);function G(){var n=Object(l.a)(["\n  flex: 6;\n  margin-right: 1em;\n  > h2 {\n    font-size: 1rem;\n    font-weight: 700;\n    margin-bottom: 0.8em;\n    line-height: 1.5;\n  }\n  > p {\n    font-size: 0.8rem;\n  }\n"]);return G=function(){return n},n}function J(){var n=Object(l.a)(["\n  cursor: pointer;\n  color: #ffffffaa;\n  border-radius: 10px;\n  padding: 1em;\n  margin-bottom: 1.5em;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: 0.3s;\n  > h2 {\n    flex: 2;\n    text-align: center;\n    font-size: 2rem;\n    font-weight: 700;\n    color: #ffffffaa;\n  }\n  > img {\n    flex: 1;\n    width: 13%;\n  }\n\n  &:hover {\n    background-color: #ffffff25;\n  }\n"]);return J=function(){return n},n}var L=m.b.div(J()),V=m.b.div(G()),W=function(n){var e=n.data,t=n.isInfo,o=n.setIsInfo,i=n.setSiteInfo,c=Object(r.useContext)(T).setCardSite,l=e.name,f=e.rating,u=e.vicinity,s=e.geometry.location,d=s.lat,m=s.lng;return a.a.createElement(L,{onClick:function(n){o(!t),i(e),c({lat:d(),lng:m()})}},a.a.createElement(V,null,a.a.createElement("h2",null,l),a.a.createElement("p",null,u)),a.a.createElement("h2",null,f),a.a.createElement("img",{src:null!==f?N.a:K.a,alt:"error"}))},Z=t(22),_=t.n(Z);function A(){var n=Object(l.a)(["\n  .adp table {\n    font-size: 1rem !important;\n    font-weight: 700;\n    color: #ffffffaa !important;\n    line-height: 3;\n  }\n  .adp-placemark {\n    font-weight: 700;\n    background-color: transparent !important;\n    border: none;\n  }\n  .adp-substep {\n    vertical-align: initial;\n    border: none;\n  }\n  .adp-summary {\n    color: #ffffffaa;\n    font-weight: 700;\n    margin-bottom: 1em;\n  }\n  .adp-legal {\n    margin-right: 1em;\n    text-align: right;\n    font-size: 0.8rem;\n    color: #ffffffaa;\n  }\n  .adp-marker2 {\n    margin-right: 1em;\n  }\n  .adp-directions {\n    width: 90%;\n  }\n  .adp-maneuver {\n    background-color: #ffffffaa;\n    border-radius: 50%;\n  }\n"]);return A=function(){return n},n}function B(){var n=Object(l.a)(["\n  color: #ffffffaa;\n  font-size: 1rem;\n  line-height: 3;\n  padding: 1em;\n  > h1 {\n    font-size: 1.1rem;\n    font-weight: 700;\n  }\n  > h2 {\n    display: flex;\n    align-items: center;\n    > img {\n      width: 5%;\n      margin-left: 1em;\n    }\n  }\n"]);return B=function(){return n},n}function Q(){var n=Object(l.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  transition: 0.5s ease;\n  opacity: ",";\n  visibility: ",";\n  overflow-y: ",";\n  scrollbar-color: #ffffff66 transparent;\n  &::-webkit-scrollbar {\n    background-color: transparent;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #ffffff66;\n  }\n\n  > img {\n    cursor: pointer;\n    width: 5%;\n    border-radius: 50%;\n    &:hover {\n      background-color: #ffffff66;\n    }\n  }\n"]);return Q=function(){return n},n}var U=m.b.div(Q(),(function(n){return n.isInfo?1:0}),(function(n){return n.isInfo?"visible":"hidden"}),(function(n){return n.isInfo?"scroll":"hidden"})),X=m.b.div(B()),Y=m.b.div(A()),$=function(n){var e=n.isInfo,t=n.setIsInfo,o=n.siteInfo,i=Object(r.useContext)(T),c=i.distancePanel,l=i.mapRender;return a.a.createElement(U,{isInfo:e},a.a.createElement("img",{src:_.a,alt:"error",onClick:function(){t(!e),l.setMap(null),l.setPanel(null)}}),a.a.createElement(X,null,a.a.createElement("h1",null,o.name),a.a.createElement("p",null,o.vicinity),a.a.createElement("h2",null,o.rating,a.a.createElement("img",{src:N.a,alt:"error"}))),a.a.createElement(Y,{ref:c}))};function nn(){var n=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  transition: 0.5s ease;\n  opacity: ",";\n  visibility: ",";\n  overflow-y: ",";\n  scrollbar-color: #ffffff66 transparent;\n  &::-webkit-scrollbar {\n    background-color: transparent;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #ffffff66;\n  }\n"]);return nn=function(){return n},n}function en(){var n=Object(l.a)(["\n  width: 100%;\n  height: 80%;\n"]);return en=function(){return n},n}function tn(){var n=Object(l.a)(["\n  width: 100%;\n  height: 80%;\n  position: relative;\n"]);return tn=function(){return n},n}var rn=m.b.div(tn()),an=(m.b.div(en()),m.b.div(nn(),(function(n){return n.isInfo?0:1}),(function(n){return n.isInfo?"hidden":"visible"}),(function(n){return n.isInfo?"hidden":"scroll"}))),on=function(){var n=Object(r.useState)(!1),e=Object(c.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)(),l=Object(c.a)(i,2),f=l[0],u=l[1],s=Object(r.useContext)(T).nearSite;return a.a.createElement(rn,null,a.a.createElement(an,{isInfo:t},void 0!==s&&s.map((function(n,e){return a.a.createElement(W,{key:n.place_id,isInfo:t,setIsInfo:o,data:n,setSiteInfo:u})}))),void 0!==f&&a.a.createElement($,{isInfo:t,setIsInfo:o,siteInfo:f}))};function cn(){var n=Object(l.a)(["\n  margin-bottom: 0.5em;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n  > button {\n    cursor: pointer;\n    color: #ffffff66;\n    background-color: transparent;\n    border: 3px solid #ffffff66;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: 700;\n    padding: 0.3em 1em;\n    position: relative;\n\n    > img {\n      margin-left: 0.5em;\n    }\n    > ul {\n      position: absolute;\n      width: 100%;\n      opacity: ",";\n      visibility: ",";\n      top: 110%;\n      right: 0;\n      background-color: #2abf70;\n      border-radius: 10px;\n      color: #fff;\n      z-index: 1;\n      font-weight: 700;\n      font-size: 1rem;\n      transition: 0.5s;\n      > li {\n        border-radius: 10px;\n        padding: 0.5em 0;\n\n        &:hover {\n          background-color: #ffffff66;\n        }\n      }\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n"]);return cn=function(){return n},n}function ln(){var n=Object(l.a)(["\n  position: relative;\n  border-bottom: 3px solid #ffffff66;\n  > input {\n    width: 90%;\n    font-size: 1.3rem;\n    color: #eb663e;\n    background-color: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n      & + .place-label {\n        color: #eb663e;\n      }\n    }\n    &:focus,\n    &:valid {\n      & + .place-label {\n        top: -100%;\n        left: 0;\n      }\n    }\n  }\n  > label {\n    cursor: text;\n    color: #ffffff66;\n    font-size: 1rem;\n    font-weight: 700;\n    position: absolute;\n    top: 20%;\n    left: 1%;\n    transition: 0.5s;\n  }\n  > button {\n    cursor: pointer;\n    position: absolute;\n    top: 0;\n    right: 0;\n    background-color: transparent;\n    border: none;\n    width: 10%;\n    height: 100%;\n    &:active {\n      outline: none;\n    }\n    > img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  &:focus-within {\n    border-bottom: 3px solid #eb663e;\n  }\n"]);return ln=function(){return n},n}function fn(){var n=Object(l.a)(["\n  margin-bottom: 1em;\n"]);return fn=function(){return n},n}function un(){var n=Object(l.a)(["\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 1.5em;\n  letter-spacing: 0.5em;\n"]);return un=function(){return n},n}function sn(){var n=Object(l.a)(["\n  cursor: pointer;\n  position: absolute;\n  top: 2%;\n  right: 3%;\n  width: 5%;\n"]);return sn=function(){return n},n}function dn(){var n=Object(l.a)(["\n  flex: 0 1 50%;\n  height: 100%;\n  overflow-y: scroll;\n  background: linear-gradient(330deg, #320d8c, #230669);\n  color: #fff;\n  padding: 3em;\n  position: relative;\n  overflow-y: hidden;\n  z-index: 1;\n\n  &::before {\n    content: '';\n    position: absolute;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: contain;\n    top: 0;\n    right: 0;\n    width: 50%;\n    height: 50%;\n    filter: opacity(0.1);\n    z-index: -1;\n  }\n"]);return dn=function(){return n},n}var mn=m.b.div(dn(),v.a),bn=m.b.img(sn()),pn=m.b.h1(un()),gn=m.b.form(fn()),vn=m.b.div(ln()),hn=m.b.div(cn(),(function(n){return n.filterState?1:0}),(function(n){return n.filterState?"visible":"hidden"})),wn={url:w.a,scaledSize:new window.google.maps.Size(70,70)},En=a.a.memo((function(n){var e=n.props,t=e.map,o=e.nearSite,i=e.setMySite,l=e.setNearSite,f=Object(r.useRef)(),u=Object(r.useState)(),s=Object(c.a)(u,2),d=s[0],m=s[1],b=Object(r.useState)(),g=Object(c.a)(b,2),v=g[0],h=g[1],w=Object(r.useState)(!1),E=Object(c.a)(w,2),O=E[0],x=E[1],k=Object(r.useState)(!1),y=Object(c.a)(k,2),S=y[0],I=y[1];Object(r.useEffect)((function(){void 0!==d&&(void 0!==v&&h((function(n){return n.setMap(null)})),h(new window.google.maps.Marker({position:d,map:t,icon:wn})),i(d))}),[d]);return a.a.createElement(mn,null,a.a.createElement(bn,{src:P.a,onClick:function(){return I(!S)}}),a.a.createElement(R,{isHelp:S,setIsHelp:I}),a.a.createElement(pn,null,"\u9910\u5ef3\u641c\u5c0b"),a.a.createElement(gn,null,a.a.createElement(vn,null,a.a.createElement("input",{ref:f,id:"place",type:"text",required:!0}),a.a.createElement("label",{className:"place-label",htmlFor:"place"},"\u8acb\u8f38\u5165\u5730\u5740"),a.a.createElement("button",{onClick:function(n){n.preventDefault();!function(n,e){var t=f.current.value;n.geocode({address:t},(function(n,t){if("OK"===t){var r=n[0].geometry.location,a=r.lat,o=r.lng;m({lat:a(),lng:o()}),e.setCenter(n[0].geometry.location),e.setZoom(16)}else alert("\u8f09\u5165\u5931\u6557\uff0c\u539f\u56e0\u70ba".concat(t))}))}(new window.google.maps.Geocoder,t)},type:"submit"},a.a.createElement("img",{src:p.a,alt:"error"})))),a.a.createElement(hn,{filterState:O},a.a.createElement("button",{onClick:function(){x(!O)}},"\u689d\u4ef6\u7be9\u9078",a.a.createElement("img",{src:j.a,alt:"error"}),a.a.createElement("ul",{onClick:function(n){"\u8a55\u50f9\u6700\u9ad8"===n.target.textContent&&(o.sort((function(n,e){return n.rating>e.rating?-1:e.rating>n.rating?1:0})),l(o))}},a.a.createElement("li",null,"\u8a55\u50f9\u6700\u9ad8")))),void 0!==o&&a.a.createElement(on,null),a.a.createElement(R,null))}));function jn(){var n=Object(l.a)(["\n  flex: 0 1 50%;\n  overflow-y: hidden;\n"]);return jn=function(){return n},n}function On(){var n=Object(l.a)(["\n  display: flex;\n  height: 100%;\n\n  @media screen and (max-width: 1200px) {\n    flex-direction: column;\n  }\n"]);return On=function(){return n},n}var xn=m.b.div(On()),kn=m.b.div(jn()),yn={url:u.a,scaledSize:new window.google.maps.Size(70,70)},Sn={url:d.a,scaledSize:new window.google.maps.Size(50,50)},In=function(){var n=Object(r.useRef)(),e=Object(r.useRef)(),t=Object(r.useState)(),o=Object(c.a)(t,2),i=o[0],l=o[1],f=Object(r.useState)({lat:25.033951,lng:121.564655}),u=Object(c.a)(f,2),s=u[0],d=u[1],m=Object(r.useState)(),b=Object(c.a)(m,2),p=b[0],g=b[1],v=Object(r.useState)(),h=Object(c.a)(v,2),w=h[0],E=h[1],j=Object(r.useState)(),O=Object(c.a)(j,2),x=O[0],k=O[1],y=Object(r.useState)(),S=Object(c.a)(y,2),I=S[0],z=S[1],C=Object(r.useState)(),M=Object(c.a)(C,2),q=M[0],R=M[1];return Object(r.useEffect)((function(){var e=new window.google.maps.Map(n.current,{center:{lat:25.033951,lng:121.564655},zoom:16});e.addListener("dragend",(function(){d({lat:e.getCenter().lat(),lng:e.getCenter().lng()})})),l(e)}),[]),Object(r.useEffect)((function(){if(void 0!==i){void 0!==w&&w.setMap(null),void 0!==x&&x.forEach((function(n){return n.setMap(null)}));var n=new window.google.maps.Marker({position:s,map:i,icon:yn});E(n);var e={location:s,radius:"1000",type:["restaurant"]};new window.google.maps.places.PlacesService(i).nearbySearch(e,(function(n,e){e===window.google.maps.places.PlacesServiceStatus.OK&&function(n){var e=[];n.forEach((function(n){var t=n.geometry,r=n.name,a=new window.google.maps.Marker({position:t.location,map:i,icon:Sn}),o=new window.google.maps.InfoWindow({content:"<h3>".concat(r,"</h3>")});a.addListener("click",(function(){o.open(i,a),window.setTimeout((function(){o.close()}),3e3)})),e.push(a)})),g(n),k(e)}(n)}))}}),[i,s]),Object(r.useEffect)((function(){var n=new window.google.maps.DirectionsRenderer,t=new window.google.maps.DirectionsService;if(void 0!==i){n.setMap(i),n.setPanel(e.current),R(n);!function(n,e){n.route({origin:s,destination:I,travelMode:window.google.maps.TravelMode.DRIVING},(function(n,t){"OK"===t?e.setDirections(n):window.alert("\u767c\u751f\u932f\u8aa4\uff0c\u539f\u56e0\u70ba".concat(t))}))}(t,n)}}),[I]),a.a.createElement(xn,null,a.a.createElement(kn,{ref:n}),void 0!==i&&a.a.createElement(T.Provider,{value:{nearSite:p,setCardSite:z,distancePanel:e,mapRender:q}},a.a.createElement(En,{props:{map:i,nearSite:p,setMySite:d,setNearSite:g}})))},zn=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(In,null))};function Cn(){var n=Object(l.a)(["\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\n\nbody {\n\tline-height: 1;\n}\n\nol, ul {\n\tlist-style: none;\n}\n\nblockquote, q {\n\tquotes: none;\n}\n\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\n\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n/* ============================================== */\n\nbody,html{\n  height:100%;\n  font-size: calc(0.75rem + 1vmin);\n  font-family: 'Noto Sans TC', sans-serif;\n}\n\n*,*::before,*::after{\n  box-sizing:border-box;\n}\n\n#root{\n  width:100%;\n  height:100%;\n}\n"]);return Cn=function(){return n},n}var Mn=Object(m.a)(Cn());i.a.render(a.a.createElement(r.Fragment,null,a.a.createElement(Mn,null),a.a.createElement(zn,null)),document.querySelector("#root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.db3080a8.chunk.js.map